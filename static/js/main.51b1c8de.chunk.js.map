{"version":3,"sources":["helpers/productHelpers.js","helpers/currencyFormatter.js","hooks/useOutsideClick.js","hooks/useHideBodyOferflow.js","components/Portal/Modal/Modal.module.css","redux/filters/filtersActions.js","components/share/inputs/Input/Input.module.css","components/ProductsList/ProductsList.module.css","components/BaseProductInfo/BaseProductInfo.module.css","components/share/labels/OriginLabel/OriginLabel.js","components/share/labels/DateLabel/DateLabel.js","helpers/dateOperations.js","components/BaseProductInfo/BaseProductInfo.js","hooks/useResetFilters.js","components/ProductItem/ProductItem.js","components/ProductItem/ProductItemContainer.js","components/ProductsList/ProductsList.js","components/ProductsList/ProductsListContainer.js","components/share/Pagination/Pagination.js","components/Portal/SidePortal/SidePortal.js","components/share/inputs/Select/Select.js","components/share/inputs/CheckboxGroup/CheckboxGroup.js","components/FilterForm/FilterForm.js","components/FilterForm/FilterFormContainer.js","helpers/scrollUp.js","pages/ProductsPage/ProductsPage.js","hooks/useGetFiltersFromURL.js","components/App/App.module.css","components/share/buttons/CircleButton/CircleButton.module.css","images/plus.svg","images/cart.svg","components/share/labels/DateLabel/DateLabel.module.css","images/default-avatar.jpg","images/briefcase.svg","components/share/Pagination/Pagination.module.css","images/prevArrow.svg","images/nextArrow.svg","components/share/inputs/Select/Select.module.css","components/share/inputs/CheckboxGroup/CheckboxGroup.module.css","images/filters.svg","pages/ProductsPage/ProductsPage.module.css","helpers/history/configHistory.js","helpers/history/URLHelpers.js","constants/olxAPI.js","api/olxAPI.js","constants/notifications.js","redux/products/productsSagas.js","redux/rootSaga.js","redux/products/productsReducer.js","redux/auth/authActions.js","redux/app/appReducer.js","redux/cart/cartReducer.js","redux/filters/filtersReducer.js","redux/auth/authReducer.js","redux/store.js","hooks/auth/useAuth.js","components/Header/Header.js","components/Header/HeaderContainer.js","helpers/schemas/addProductSchema.js","components/Portal/Modal/Modal.js","components/share/inputs/Input/Input.js","components/AddProductForm/AddProductForm.js","components/AddProductForm/AddProductFormContainer.js","routes/PagesRouter.js","components/App/App.js","index.js","components/App/AppContainer.js","constants/productsFilters.js","redux/app/appActions.js","constants/routes.js","redux/products/productsSelectors.js","components/Header/Header.module.css","components/share/buttons/Button/Button.js","redux/filters/filtersSelectors.js","redux/cart/cartActions.js","redux/app/appSelectors.js","redux/products/productsActions.js","helpers/mapFiltersToParams.js","components/share/buttons/CircleButton/CircleButton.js","components/share/buttons/Button/Button.module.css","components/share/labels/OriginLabel/OriginLabel.module.css","components/FilterForm/FilterForm.module.css","redux/cart/cartSelectors.js","components/share/labels/SimpleLabel/SimpleLabel.js","components/AddProductForm/AddProductForm.module.css","components/ProductItem/ProductItem.module.css","components/Portal/SidePortal/SidePortal.module.css"],"names":["isAlreadyInCart","id","cart","indexOf","reducerForPrice","acc","item","price","quantity","value","toString","replace","useOutsideClick","ref","callback","handleClick","e","current","path","useEffect","document","addEventListener","removeEventListener","body","className","module","exports","setOrigins","createAction","setPrice","setPage","setPerPage","resetFilters","setEditable","setFilters","mapStyle","origin","styleOrigin","styles","styleOriginAsia","styleOriginEurope","styleOriginUsa","styleOriginAfrica","OriginLabel","DateLabel","text","iso","overStyle","cursive","moment","ISO_8601","format","getDateString","BaseProductInfo","product","src","defaultProductImage","alt","name","image","SimpleLabel","currencyFormatter","createdAt","updatedAt","useResetFilters","dispatch","useDispatch","history","useHistory","listen","location","state","filtersActions","ProductItem","isInCart","handleRemoveProductFromCart","handleAddProductToCart","handleEditProduct","isOwnProduct","container","to","routes","PRODUCT","createPath","link","icon","briefcase","Button","type","onClick","editButton","ProductItemContainer","productsInCart","useSelector","getProductsIdInCart","getIsOwnProduct","removeFromCart","addToCart","setEditedProduct","showProductForm","ProductsList","products","productList","map","key","ProductsListContainer","getProducts","propTypes","shape","string","isRequired","bool","func","Pagination","currentPage","total","perPage","onChange","paginationList","simple","showTitle","pageSize","prevIcon","CircleButton","prevArrow","nextIcon","nextArrow","SidePortal","onClose","children","useHideBodyOferflow","childRef","useRef","createPortal","closePortalButton","overlay","childrenContainer","getElementById","Select","options","onBlur","select","CheckboxGroup","items","Checkbox","label","displayName","FilterForm","isShowFilters","handleShowFilters","handleSetOrigins","handleSetQuantityProductsOnPage","origins","filteredOrigins","handleSetPriceLocal","handleSetPrice","priceLocal","productsPerPageOptions","productsPriceRangeOptions","formContainer","priceContainer","priceRangeValues","min","max","allowCross","pushable","onAfterChange","filtersShowButton","filtersIcon","FilterFormContainer","useState","productsPriceRange","setPriceLocal","getOrigins","getFilteredOrigins","useCallback","getIsShowFilters","showFilters","target","productsPerPage","scrollUp","window","scrollTo","top","behavior","ProductsPage","ownProducts","getFiltersFromURL","search","useLocation","filters","parseFiltersFromUrl","useGetFiltersFromURL","getFilters","fetchProducts","getProductsRequest","fetchMyProducts","getOwnProductsRequest","totalProducts","getTotalQuantity","getCurrentPage","getPerPage","wrap","createBrowserHistory","pushToUrl","params","url","stringifyParams","editable","pathname","OWN_PRODUCTS","INDEX","push","createURL","productId","filter","Boolean","join","axios","defaults","headers","common","process","baseURL","API_URLs","method","paramsSerializer","qs","stringify","arrayFormat","fetchOneProduct","fetchOwnProducts","postProduct","productData","data","patchProduct","values","fetchOrigins","ERRORS","SUCCES","ADD_PRODUCT","PATCH_PRODUCT","fetchAllProducts","watchProducts","mapFiltersToParams","delay","call","olxAPI","res","put","productsActions","payload","toastr","success","error","appActions","takeEvery","rootSaga","all","createReducer","action","currentProduct","totalItems","editedProduct","combineReducers","logInRequest","logInSucces","logInError","errors","isLoading","loaderOn","loaderOff","isShowProductForm","clone","incrementProductQuantity","decrementProductQuantity","length","minPrice","maxPrice","page","user","email","sagaMiddleware","createSagaMiddleware","persistConfig","storage","middlewares","rootReducer","app","persistReducer","auth","toastrReducer","store","configureStore","reducer","middleware","devTools","persistor","persistStore","run","token","Header","totalQuantity","totalPrice","handleOpenProductForm","header","logo","CART","activeClassName","activeLink","plusSVG","cartSVG","cartImage","quantityIcon","HeaderContainer","getTotalPrice","getIsShowProductForm","addProductSchema","object","required","number","mixed","oneOf","productsOrigins","Modal","Input","placeholder","touched","props","hasError","useMemo","input","errorText","AddProductForm","initialState","handleSubmit","isEdit","initialValues","validationSchema","onSubmit","isSubmitting","handleChange","handleBlur","handleReset","formTitle","htmlFor","disabled","as","actionType","AddProductFormContainer","getEditedProduct","Object","keys","patchProductRequest","postProductRequest","CartPageAsync","lazy","ProductPageAsync","OwnProductsPageAsync","PagesRouter","fallback","exact","component","App","main","ReactDOM","render","loading","StrictMode","authAsync","a","useAuth","getProductsOrigins","getOriginsRequest","timeOut","newestOnTop","preventDuplicates","position","getState","transitionIn","transitionOut","progressBar","closeOnToastrClick","DEFAULT_PATH","getCurrentProduct","isEditable","buttonStyle","buttonDisabled","buttonSubmit","buttonCancel","buttonEdit","button","defaultProps","getProductsSucces","getProductsError","getOwnProductsSucces","getOwnProductsError","getCurrentProductRequest","getCurrentProductSucces","getCurrentProductError","getOriginsSucces","getOriginsError","postProductSucces","postProductError","patchProductSucces","patchProductError","queryString","parsedFilters","parse","slice","Number","getCart","getProductsInCart","createSelector","reduce"],"mappings":"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","file":"static/js/main.51b1c8de.chunk.js","sourcesContent":["export const isAlreadyInCart = (id, cart) => cart.indexOf(id) > -1;\r\n\r\nexport const reducerForPrice = (acc, item) => acc + item.price * item.quantity;\r\n","export default value => {\r\n  if (!value) return '';\r\n  value = value.toString();\r\n  return value.replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nconst useOutsideClick = (ref, callback) => {\r\n  const handleClick = e => {\r\n    if (ref.current === e.path[0]) {\r\n      callback();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleClick);\r\n\r\n    return () => {\r\n      document.removeEventListener('click', handleClick);\r\n    };\r\n  });\r\n};\r\n\r\nexport default useOutsideClick;\r\n","import { useEffect } from 'react';\r\n\r\nconst useOutsideClick = () => {\r\n  useEffect(() => {\r\n    document.body.className = 'overflow-hidden';\r\n\r\n    return () => {\r\n      document.body.className = '';\r\n    };\r\n  });\r\n};\r\n\r\nexport default useOutsideClick;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Modal_container__1gn5L\",\"overlay\":\"Modal_overlay__1qgBT\",\"closePortalButton\":\"Modal_closePortalButton__3wXda\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\n// ORIGINS\r\nexport const setOrigins = createAction('filters/SET_ORIGINS');\r\n\r\n// PRICE\r\n\r\nexport const setPrice = createAction('filters/SET_PRICE');\r\n\r\n// PAGE\r\nexport const setPage = createAction('filters/SET_PAGE');\r\n\r\n// PER PAGE\r\nexport const setPerPage = createAction('filters/SET_PER_PAGE');\r\n\r\n// RESET\r\nexport const resetFilters = createAction('filters/RESET');\r\n\r\n//EDITABLE\r\nexport const setEditable = createAction('filters/SET_EDITABLE');\r\n\r\n// SET FROM URL\r\nexport const setFilters = createAction('filters/SET_FROM_URL');\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__264tD\",\"errorText\":\"Input_errorText__Ngzks\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"productList\":\"ProductsList_productList__ne177\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name\":\"BaseProductInfo_name__2KKPE\",\"image\":\"BaseProductInfo_image__aXPtE\"};","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport styles from './OriginLabel.module.css';\r\n\r\nconst mapStyle = origin => {\r\n  let styleOrigin;\r\n  switch (origin) {\r\n    case 'asia':\r\n      styleOrigin = styles.styleOriginAsia;\r\n      break;\r\n    case 'europe':\r\n      styleOrigin = styles.styleOriginEurope;\r\n      break;\r\n    case 'usa':\r\n      styleOrigin = styles.styleOriginUsa;\r\n      break;\r\n    case 'africa':\r\n      styleOrigin = styles.styleOriginAfrica;\r\n      break;\r\n    default:\r\n      styleOrigin = styles.styleOrigin;\r\n  }\r\n\r\n  return styleOrigin;\r\n};\r\n\r\nexport default function OriginLabel({ origin }) {\r\n  return (\r\n    <p>\r\n      <span className={mapStyle(origin)}>{origin}</span>\r\n    </p>\r\n  );\r\n}\r\n\r\nOriginLabel.propTypes = {\r\n  origin: propTypes.string.isRequired,\r\n};\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport { getDateString } from '../../../../helpers/dateOperations';\r\nimport styles from './DateLabel.module.css';\r\n\r\nexport default function DateLabel({ text, iso, overStyle }) {\r\n  return <p className={overStyle ? overStyle : styles.cursive}>{`${text}: ${getDateString(iso)}`}</p>;\r\n}\r\n\r\nDateLabel.propTypes = {\r\n  text: propTypes.string.isRequired,\r\n  iso: propTypes.string.isRequired,\r\n  overStyle: propTypes.string,\r\n};\r\n","import moment from 'moment';\r\n\r\nexport const getDateString = iso => moment(iso, moment.ISO_8601).format('YYYY-MM-DD');\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport OriginLabel from '../share/labels/OriginLabel/OriginLabel';\r\nimport DateLabel from '../share/labels/DateLabel/DateLabel';\r\nimport SimpleLabel from '../share/labels/SimpleLabel/SimpleLabel';\r\n\r\nimport currencyFormatter from '../../helpers/currencyFormatter';\r\nimport defaultProductImage from '../../images/default-avatar.jpg';\r\nimport styles from './BaseProductInfo.module.css';\r\n\r\nexport default function BaseProductInfo({ product }) {\r\n  return (\r\n    <>\r\n      <img src={defaultProductImage} alt={product.name} className={styles.image} />\r\n      <SimpleLabel overStyle={styles.name} text={product.name} />\r\n      <SimpleLabel text={`Price : ${currencyFormatter(product.price)}`} />\r\n      <OriginLabel origin={product.origin} />\r\n      <DateLabel text=\"Created at\" iso={product.createdAt} />\r\n      <DateLabel text=\"Updated at\" iso={product.updatedAt} />\r\n    </>\r\n  );\r\n}\r\n\r\nBaseProductInfo.propTypes = {\r\n  product: propTypes.shape({\r\n    name: propTypes.string.isRequired,\r\n    price: propTypes.number.isRequired,\r\n    origin: propTypes.string.isRequired,\r\n    createdAt: propTypes.string.isRequired,\r\n    updatedAt: propTypes.string.isRequired,\r\n  }).isRequired,\r\n};\r\n","import { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport * as filtersActions from '../redux/filters/filtersActions';\r\n\r\nconst useResetFilters = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const resetFilters = () => {\r\n    return history.listen(location => {\r\n      const { state } = location;\r\n\r\n      if (state && state.resetFilters) {\r\n        dispatch(filtersActions.resetFilters());\r\n      }\r\n    });\r\n  };\r\n\r\n  return {\r\n    resetFilters,\r\n  };\r\n};\r\n\r\nexport default useResetFilters;\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport styles from './ProductItem.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport routes from '../../constants/routes';\r\nimport BaseProductInfo from '../BaseProductInfo/BaseProductInfo';\r\nimport briefcase from '../../images/briefcase.svg';\r\nimport Button from '../share/buttons/Button/Button';\r\nimport ProductItemContainer from './ProductItemContainer';\r\n\r\nexport default function ProductItem({\r\n  product,\r\n  isInCart,\r\n  handleRemoveProductFromCart,\r\n  handleAddProductToCart,\r\n  handleEditProduct,\r\n  isOwnProduct,\r\n}) {\r\n  return (\r\n    <li className={styles.container}>\r\n      <Link to={routes.PRODUCT.createPath(product.id)} className={styles.link}>\r\n        <BaseProductInfo product={product} />\r\n      </Link>\r\n\r\n      {isOwnProduct ? (\r\n        <>\r\n          <div className={styles.icon}>\r\n            <img src={briefcase} alt=\"own product\" />\r\n          </div>\r\n\r\n          <Button type=\"edit\" onClick={handleEditProduct} className={styles.editButton}>\r\n            Edit Product\r\n          </Button>\r\n        </>\r\n      ) : (\r\n        <div>\r\n          {isInCart ? (\r\n            <Button onClick={handleRemoveProductFromCart}>Remove from cart</Button>\r\n          ) : (\r\n            <Button type=\"submit\" onClick={handleAddProductToCart}>\r\n              Add to cart\r\n            </Button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nProductItemContainer.propTypes = {\r\n  product: propTypes.shape({\r\n    id: propTypes.string.isRequired,\r\n  }),\r\n  isInCart: propTypes.bool,\r\n  isOwnProduct: propTypes.bool,\r\n  handleRemoveProductFromCart: propTypes.func,\r\n  handleAddProductToCart: propTypes.func,\r\n  handleEditProduct: propTypes.func,\r\n};\r\n","import React from 'react';\r\nimport { isAlreadyInCart } from '../../helpers/productHelpers';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getProductsIdInCart } from '../../redux/cart/cartSelectors';\r\nimport { getIsOwnProduct } from '../../redux/products/productsSelectors';\r\nimport { addToCart, removeFromCart } from '../../redux/cart/cartActions';\r\nimport { showProductForm } from '../../redux/app/appActions';\r\nimport { setEditedProduct } from '../../redux/products/productsActions';\r\nimport ProductItem from './ProductItem';\r\n\r\nexport default function ProductItemContainer({ product }) {\r\n  const productsInCart = useSelector(getProductsIdInCart);\r\n  const dispatch = useDispatch();\r\n\r\n  const isInCart = isAlreadyInCart(product.id, productsInCart);\r\n\r\n  const handleRemoveProductFromCart = () => dispatch(removeFromCart(product.id));\r\n  const handleAddProductToCart = () => dispatch(addToCart(product));\r\n  const handleEditProduct = () => {\r\n    dispatch(setEditedProduct(product));\r\n    dispatch(showProductForm(true));\r\n  };\r\n\r\n  const isOwnProduct = useSelector(getIsOwnProduct(product));\r\n\r\n  return (\r\n    <ProductItem\r\n      product={product}\r\n      isInCart={isInCart}\r\n      handleRemoveProductFromCart={handleRemoveProductFromCart}\r\n      handleAddProductToCart={handleAddProductToCart}\r\n      handleEditProduct={handleEditProduct}\r\n      isOwnProduct={isOwnProduct}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport styles from './ProductsList.module.css';\r\nimport ProductItemContainer from '../ProductItem/ProductItemContainer';\r\n\r\nexport default function ProductsList({ products }) {\r\n  return (\r\n    <div className={styles.container}>\r\n      <ul className={styles.productList}>\r\n        {products.map(item => (\r\n          <ProductItemContainer key={item.id} product={item} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\nProductsList.propTypes = {\r\n  products: propTypes.arrayOf(\r\n    propTypes.shape({\r\n      name: propTypes.string.isRequired,\r\n      price: propTypes.number.isRequired,\r\n      origin: propTypes.string.isRequired,\r\n      createdAt: propTypes.string.isRequired,\r\n      updatedAt: propTypes.string.isRequired,\r\n    }),\r\n  ),\r\n};\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getProducts } from '../../redux/products/productsSelectors';\r\nimport ProductsList from './ProductsList';\r\n\r\nexport default function ProductsListContainer() {\r\n  const products = useSelector(getProducts);\r\n  return <ProductsList products={products} />;\r\n}\r\n","import React from 'react';\r\nimport RcPagination from 'rc-pagination';\r\nimport propTypes from 'prop-types';\r\nimport CircleButton from '../buttons/CircleButton/CircleButton';\r\nimport styles from './Pagination.module.css';\r\nimport prevArrow from '../../../images/prevArrow.svg';\r\nimport nextArrow from '../../../images/nextArrow.svg';\r\n\r\nexport default function Pagination({ currentPage, total, perPage, onChange }) {\r\n  return (\r\n    <RcPagination\r\n      className={styles.paginationList}\r\n      simple\r\n      showTitle={false}\r\n      current={currentPage}\r\n      total={total}\r\n      pageSize={perPage}\r\n      onChange={onChange}\r\n      prevIcon={\r\n        <CircleButton>\r\n          <img src={prevArrow} alt=\"prev\"></img>\r\n        </CircleButton>\r\n      }\r\n      nextIcon={\r\n        <CircleButton>\r\n          <img src={nextArrow} alt=\"next\"></img>\r\n        </CircleButton>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nPagination.propTypes = {\r\n  currentPage: propTypes.number.isRequired,\r\n  total: propTypes.number.isRequired,\r\n  perPage: propTypes.number.isRequired,\r\n};\r\n","import React, { useRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport useOutsideClick from '../../../hooks/useOutsideClick';\r\nimport useHideBodyOferflow from '../../../hooks/useHideBodyOferflow';\r\nimport Button from '../../share/buttons/Button/Button';\r\n\r\nimport styles from './SidePortal.module.css';\r\n\r\nexport default function SidePortal({ onClose, children }) {\r\n  useHideBodyOferflow();\r\n\r\n  const childRef = useRef();\r\n  useOutsideClick(childRef, () => {\r\n    onClose();\r\n  });\r\n\r\n  return createPortal(\r\n    <div className={styles.container}>\r\n      <Button onClick={onClose} overStyle={styles.closePortalButton} />\r\n      <div className={styles.overlay}>\r\n        <div ref={childRef} className={styles.childrenContainer}>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.getElementById('side-portal'),\r\n  );\r\n}\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport styles from './Select.module.css';\r\n\r\nexport default function Select({ options, onChange, onBlur }) {\r\n  return (\r\n    <select onChange={onChange} onBlur={onBlur} className={styles.select}>\r\n      {options.map(item => (\r\n        <option key={item}>{item}</option>\r\n      ))}\r\n    </select>\r\n  );\r\n}\r\n\r\nSelect.propTypes = {\r\n  options: propTypes.arrayOf(propTypes.oneOfType([propTypes.string, propTypes.number])).isRequired,\r\n  onChange: propTypes.func.isRequired,\r\n  onBlur: propTypes.func,\r\n};\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport Checkboxes from 'react-checkbox-group';\r\nimport styles from './CheckboxGroup.module.css';\r\n\r\nexport default function CheckboxGroup({ name, value, onChange, items }) {\r\n  return (\r\n    <Checkboxes name={name} value={value} onChange={onChange}>\r\n      {Checkbox => (\r\n        <>\r\n          {items.map(item => (\r\n            <label key={item.value} className={styles.label}>\r\n              <Checkbox value={item.value} /> {item.displayName}\r\n            </label>\r\n          ))}\r\n        </>\r\n      )}\r\n    </Checkboxes>\r\n  );\r\n}\r\n\r\nCheckboxGroup.propTypes = {\r\n  name: propTypes.string.isRequired,\r\n  value: propTypes.arrayOf(propTypes.string).isRequired,\r\n  onChange: propTypes.func.isRequired,\r\n  items: propTypes.arrayOf(propTypes.string).isRequired,\r\n};\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport styles from './FilterForm.module.css';\r\nimport SidePortal from '../Portal/SidePortal/SidePortal';\r\nimport Select from '../share/inputs/Select/Select';\r\nimport CheckboxGroup from '../share/inputs/CheckboxGroup/CheckboxGroup';\r\nimport { Range } from 'rc-slider';\r\nimport CircleButton from '../share/buttons/CircleButton/CircleButton';\r\nimport filtersIcon from '../../images/filters.svg';\r\n\r\nexport default function FilterForm({\r\n  isShowFilters,\r\n  handleShowFilters,\r\n  handleSetOrigins,\r\n  handleSetQuantityProductsOnPage,\r\n  origins,\r\n  filteredOrigins,\r\n  handleSetPriceLocal,\r\n  handleSetPrice,\r\n  priceLocal,\r\n  productsPerPageOptions,\r\n  productsPriceRangeOptions,\r\n}) {\r\n  return (\r\n    <aside className={styles.container}>\r\n      {isShowFilters ? (\r\n        <SidePortal onClose={handleShowFilters}>\r\n          <div className={styles.formContainer}>\r\n            <form id=\"filterForm\">\r\n              <div>\r\n                <span>Products on page </span>\r\n                <Select options={productsPerPageOptions} onChange={handleSetQuantityProductsOnPage} />\r\n\r\n                <fieldset>\r\n                  <legend>Choise by region</legend>\r\n                  <CheckboxGroup onChange={handleSetOrigins} name=\"origins\" value={filteredOrigins} items={origins} />\r\n                </fieldset>\r\n              </div>\r\n              <div className={styles.priceContainer}>\r\n                <fieldset>\r\n                  <legend>Filter by price</legend>\r\n                  <span className={styles.priceRangeValues}>\r\n                    {priceLocal[0]} - {priceLocal[1]}\r\n                  </span>\r\n                  <Range\r\n                    className=\"price-filter-range\"\r\n                    min={productsPriceRangeOptions[0]}\r\n                    max={productsPriceRangeOptions[1]}\r\n                    value={priceLocal}\r\n                    allowCross={false}\r\n                    pushable={100}\r\n                    onChange={handleSetPriceLocal}\r\n                    onAfterChange={handleSetPrice}\r\n                  />\r\n                </fieldset>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </SidePortal>\r\n      ) : (\r\n        <CircleButton onClick={handleShowFilters} overStyle={styles.filtersShowButton}>\r\n          <img src={filtersIcon} alt=\"filters\" />\r\n        </CircleButton>\r\n      )}\r\n    </aside>\r\n  );\r\n}\r\n\r\nFilterForm.propTypes = {\r\n  isShowFilters: propTypes.bool.isRequired,\r\n  handleShowFilters: propTypes.func.isRequired,\r\n  handleSetQuantityProductsOnPage: propTypes.func.isRequired,\r\n  handleSetOrigins: propTypes.func.isRequired,\r\n  origins: propTypes.arrayOf(\r\n    propTypes.shape({\r\n      value: propTypes.string.isRequired,\r\n      displayName: propTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  filteredOrigins: propTypes.arrayOf(propTypes.string).isRequired,\r\n  handleSetPrice: propTypes.func.isRequired,\r\n  handleSetPriceLocal: propTypes.func.isRequired,\r\n  priceLocal: propTypes.arrayOf(propTypes.number).isRequired,\r\n  productsPerPageOptions: propTypes.arrayOf(propTypes.number).isRequired,\r\n  productsPriceRangeOptions: propTypes.arrayOf(propTypes.number).isRequired,\r\n};\r\n","import React, { useCallback, useState } from 'react';\r\nimport 'rc-slider/assets/index.css';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getFilteredOrigins } from '../../redux/filters/filtersSelectors';\r\nimport { setOrigins, setPrice, setPerPage } from '../../redux/filters/filtersActions';\r\nimport { getOrigins } from '../../redux/products/productsSelectors';\r\nimport { getIsShowFilters } from '../../redux/app/appSelectors';\r\nimport { showFilters } from '../../redux/app/appActions';\r\n\r\nimport { productsPerPage, productsPriceRange } from '../../constants/productsFilters';\r\n\r\nimport FilterForm from './FilterForm';\r\n\r\nexport default function FilterFormContainer() {\r\n  const [priceLocal, setPriceLocal] = useState(productsPriceRange);\r\n  const handleSetPriceLocal = value => setPriceLocal(value);\r\n\r\n  const origins = useSelector(getOrigins);\r\n  const filteredOrigins = useSelector(getFilteredOrigins);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSetOrigins = item => {\r\n    return dispatch(setOrigins(item));\r\n  };\r\n\r\n  const handleSetPrice = useCallback(() => dispatch(setPrice(priceLocal)), [dispatch, priceLocal]);\r\n\r\n  const handleSetQuantityProductsOnPage = e => dispatch(setPerPage(e.target.value));\r\n\r\n  const isShowFilters = useSelector(getIsShowFilters);\r\n  const handleShowFilters = () => dispatch(showFilters(!isShowFilters));\r\n\r\n  return (\r\n    <FilterForm\r\n      isShowFilters={isShowFilters}\r\n      handleShowFilters={handleShowFilters}\r\n      handleSetQuantityProductsOnPage={handleSetQuantityProductsOnPage}\r\n      handleSetOrigins={handleSetOrigins}\r\n      origins={origins}\r\n      filteredOrigins={filteredOrigins}\r\n      handleSetPriceLocal={handleSetPriceLocal}\r\n      handleSetPrice={handleSetPrice}\r\n      priceLocal={priceLocal}\r\n      productsPerPageOptions={productsPerPage}\r\n      productsPriceRangeOptions={productsPriceRange}\r\n    />\r\n  );\r\n}\r\n","const scrollUp = () => {\r\n  window.scrollTo({\r\n    top: 0,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\n\r\nexport default scrollUp;\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport useResetFilters from '../../hooks/useResetFilters';\r\nimport { useGetFiltersFromURL } from '../../hooks/useGetFiltersFromURL';\r\nimport { getProductsRequest, getOwnProductsRequest } from '../../redux/products/productsActions';\r\nimport { setPage, setEditable } from '../../redux/filters/filtersActions';\r\nimport { getPerPage, getCurrentPage, getFilters } from '../../redux/filters/filtersSelectors';\r\nimport { getTotalQuantity } from '../../redux/products/productsSelectors';\r\nimport ProductsListContainer from '../../components/ProductsList/ProductsListContainer';\r\nimport Pagination from '../../components/share/Pagination/Pagination';\r\nimport FilterFormContainer from '../../components/FilterForm/FilterFormContainer';\r\nimport scrollUp from '../../helpers/scrollUp';\r\nimport styles from './ProductsPage.module.css';\r\n\r\nexport default function ProductsPage({ ownProducts = false }) {\r\n  const { getFiltersFromURL } = useGetFiltersFromURL();\r\n  const { resetFilters } = useResetFilters();\r\n\r\n  const filters = useSelector(getFilters);\r\n\r\n  const dispatch = useDispatch();\r\n  const fetchProducts = useCallback(() => {\r\n    dispatch(setEditable(false));\r\n    dispatch(getProductsRequest());\r\n  }, [dispatch]);\r\n\r\n  const fetchMyProducts = useCallback(() => {\r\n    dispatch(setEditable(true));\r\n    dispatch(getOwnProductsRequest());\r\n  }, [dispatch]);\r\n\r\n  const totalProducts = useSelector(getTotalQuantity);\r\n  const currentPage = useSelector(getCurrentPage);\r\n  const perPage = useSelector(getPerPage);\r\n\r\n  const handlePaginate = value => {\r\n    dispatch(setPage(value));\r\n    scrollUp();\r\n  };\r\n\r\n  useEffect(() => {\r\n    getFiltersFromURL();\r\n  }, [getFiltersFromURL]);\r\n\r\n  useEffect(() => {\r\n    if (ownProducts) {\r\n      fetchMyProducts();\r\n    } else {\r\n      fetchProducts();\r\n    }\r\n\r\n    return resetFilters();\r\n  }, [fetchProducts, fetchMyProducts, ownProducts, filters, resetFilters]);\r\n\r\n  return (\r\n    <>\r\n      <section>\r\n        <div className={styles.wrap}>\r\n          <FilterFormContainer />\r\n          <ProductsListContainer />\r\n        </div>\r\n        {totalProducts && (\r\n          <Pagination total={totalProducts} currentPage={currentPage} perPage={perPage} onChange={handlePaginate} />\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n","import { useCallback } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setFilters } from '../redux/filters/filtersActions';\r\n\r\nimport { parseFiltersFromUrl } from '../helpers/mapFiltersToParams';\r\n\r\nexport const useGetFiltersFromURL = () => {\r\n  const dispatch = useDispatch();\r\n  const { search } = useLocation();\r\n\r\n  let filters = {};\r\n\r\n  const getFiltersFromURL = useCallback(() => {\r\n    if (search) {\r\n      filters = parseFiltersFromUrl(search);\r\n      dispatch(setFilters(filters));\r\n    }\r\n  }, [search]);\r\n\r\n  return {\r\n    getFiltersFromURL,\r\n  };\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__J4DwN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CircleButton_button__3OsqX\"};","module.exports = __webpack_public_path__ + \"static/media/plus.dc7219c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/cart.4208f09f.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cursive\":\"DateLabel_cursive__32wkQ\"};","module.exports = __webpack_public_path__ + \"static/media/default-avatar.ffdce1ca.jpg\";","module.exports = __webpack_public_path__ + \"static/media/briefcase.59a2698d.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationList\":\"Pagination_paginationList__3Izi7\"};","module.exports = __webpack_public_path__ + \"static/media/prevArrow.6775c9f8.svg\";","module.exports = __webpack_public_path__ + \"static/media/nextArrow.02931103.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"Select_select__3vtkq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"CheckboxGroup_label__3LJzj\"};","module.exports = __webpack_public_path__ + \"static/media/filters.dd4255d5.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"ProductsPage_wrap__213C1\"};","import { createBrowserHistory } from 'history';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nexport default history;\r\n","import history from './configHistory';\r\nimport { stringifyParams } from '../mapFiltersToParams';\r\nimport routes from '../../constants/routes';\r\n\r\nexport const pushToUrl = params => {\r\n  const qsParams = stringifyParams(params);\r\n\r\n  const url = {\r\n    search: qsParams,\r\n  };\r\n\r\n  if (params.editable) {\r\n    url.pathname = routes.OWN_PRODUCTS.INDEX;\r\n  } else {\r\n    url.pathname = routes.INDEX.INDEX;\r\n  }\r\n  history.push(url);\r\n};\r\n","export default {\r\n  BASE_URL: {\r\n    INDEX: 'https://yalantis-react-school-api.yalantis.com/api/v1',\r\n  },\r\n  PRODUCTS: {\r\n    INDEX: '/products',\r\n  },\r\n  PRODUCT: {\r\n    createURL: productId => ['/products', productId].filter(Boolean).join('/'),\r\n    INDEX: '/products/:productId',\r\n  },\r\n  ORIGINS: {\r\n    INDEX: '/products-origins',\r\n  },\r\n};\r\n","import axios from 'axios';\r\nimport qs from 'qs';\r\nimport API_URLs from '../constants/olxAPI';\r\n\r\nconst { REACT_APP_API_TOKEN } = process.env;\r\n\r\naxios.defaults.headers.common['Authorization'] = REACT_APP_API_TOKEN;\r\naxios.defaults.baseURL = API_URLs.BASE_URL.INDEX;\r\naxios.defaults.params = {};\r\n\r\nexport const fetchProducts = params =>\r\n  axios({\r\n    method: 'get',\r\n    url: API_URLs.PRODUCTS.INDEX,\r\n    params,\r\n    paramsSerializer: function (params) {\r\n      return qs.stringify(params, { arrayFormat: 'comma' });\r\n    },\r\n  });\r\n\r\nexport const fetchOneProduct = productId =>\r\n  axios({\r\n    method: 'get',\r\n    url: API_URLs.PRODUCT.createURL(productId),\r\n  });\r\n\r\nexport const fetchOwnProducts = params =>\r\n  axios({\r\n    method: 'get',\r\n    url: API_URLs.PRODUCTS.INDEX,\r\n    params: { editable: true, ...params },\r\n    paramsSerializer: function (params) {\r\n      return qs.stringify(params, { arrayFormat: 'comma' });\r\n    },\r\n  });\r\n\r\nexport const postProduct = productData =>\r\n  axios({\r\n    method: 'post',\r\n    url: API_URLs.PRODUCTS.INDEX,\r\n    data: { product: productData },\r\n  });\r\n\r\nexport const patchProduct = ({ productId, values }) => {\r\n  return axios({\r\n    method: 'patch',\r\n    url: API_URLs.PRODUCT.createURL(productId),\r\n    params: { productId },\r\n    data: { product: values },\r\n  });\r\n};\r\n\r\nexport const fetchOrigins = () => axios({ method: 'get', url: API_URLs.ORIGINS.INDEX });\r\n","export const ERRORS = { INDEX: 'Error', UNKNOWN_ERROR: 'Something went wrong. Please try later...' };\r\n\r\nexport const SUCCES = {\r\n  INDEX: 'Succes',\r\n  PRODUCT: {\r\n    ADD_PRODUCT: 'Product added successfully!',\r\n    PATCH_PRODUCT: 'Product edited successfully!',\r\n  },\r\n};\r\n","import { put, call, takeEvery, select, delay } from 'redux-saga/effects';\r\nimport * as productsActions from '../products/productsActions';\r\nimport * as appActions from '../app/appActions';\r\nimport { getFilters } from '../filters/filtersSelectors';\r\nimport { mapFiltersToParams } from '../../helpers/mapFiltersToParams';\r\nimport { pushToUrl } from '../../helpers/history/URLHelpers';\r\nimport * as olxAPI from '../../api/olxAPI';\r\nimport { toastr } from 'react-redux-toastr';\r\nimport { SUCCES, ERRORS } from '../../constants/notifications';\r\n\r\nexport function* fetchAllProducts() {\r\n  try {\r\n    const filters = yield select(getFilters);\r\n    const params = mapFiltersToParams(filters);\r\n    yield delay(700);\r\n\r\n    const res = yield call(olxAPI.fetchProducts, params);\r\n    yield put(productsActions.getProductsSucces(res.data));\r\n    yield call(pushToUrl, params);\r\n  } catch (e) {\r\n    yield put(productsActions.getProductsError(e));\r\n  }\r\n}\r\n\r\nexport function* fetchOwnProducts() {\r\n  try {\r\n    const filters = yield select(getFilters);\r\n    const params = mapFiltersToParams(filters);\r\n    yield delay(700);\r\n\r\n    const res = yield call(olxAPI.fetchOwnProducts, params);\r\n    yield put(productsActions.getOwnProductsSucces(res.data));\r\n    yield call(pushToUrl, params);\r\n  } catch (e) {\r\n    yield put(productsActions.getOwnProductsError(e));\r\n  }\r\n}\r\n\r\nexport function* getOrigins() {\r\n  try {\r\n    const res = yield call(olxAPI.fetchOrigins);\r\n    yield put(productsActions.getOriginsSucces(res.data.items));\r\n  } catch (e) {\r\n    yield put(productsActions.getOriginsError(e));\r\n  }\r\n}\r\n\r\nexport function* fetchOneProduct({ payload: productId }) {\r\n  try {\r\n    const res = yield call(olxAPI.fetchOneProduct, productId);\r\n    yield put(productsActions.getCurrentProductSucces(res.data));\r\n  } catch (e) {\r\n    yield put(productsActions.getCurrentProductError(e));\r\n  }\r\n}\r\n\r\nexport function* postProduct({ payload: data }) {\r\n  try {\r\n    const res = yield call(olxAPI.postProduct, data);\r\n    yield put(productsActions.postProductSucces(res.data));\r\n    toastr.success(SUCCES.INDEX, SUCCES.PRODUCT.ADD_PRODUCT);\r\n  } catch (e) {\r\n    yield put(productsActions.postProductError(e));\r\n    toastr.error(ERRORS.INDEX, ERRORS.UNKNOWN_ERROR);\r\n  } finally {\r\n    yield put(appActions.showProductForm(false));\r\n  }\r\n}\r\n\r\nexport function* patchProduct({ payload: { productId, values } }) {\r\n  try {\r\n    const res = yield call(olxAPI.patchProduct, { productId, values });\r\n    yield put(productsActions.patchProductSucces(res.data));\r\n    toastr.success(SUCCES.INDEX, SUCCES.PRODUCT.PATCH_PRODUCT);\r\n  } catch (e) {\r\n    yield put(productsActions.patchProductError(e));\r\n    toastr.error(ERRORS.INDEX, ERRORS.UNKNOWN_ERROR);\r\n  } finally {\r\n    yield put(appActions.showProductForm(false));\r\n  }\r\n}\r\n\r\nexport function* watchProducts() {\r\n  yield takeEvery(productsActions.getOriginsRequest, getOrigins);\r\n  yield takeEvery(productsActions.getOwnProductsRequest, fetchOwnProducts);\r\n  yield takeEvery(productsActions.getProductsRequest, fetchAllProducts);\r\n  yield takeEvery(productsActions.getCurrentProductRequest, fetchOneProduct);\r\n  yield takeEvery(productsActions.postProductRequest, postProduct);\r\n  yield takeEvery(productsActions.patchProductRequest, patchProduct);\r\n}\r\n","import { all } from 'redux-saga/effects';\r\nimport { watchProducts } from './products/productsSagas';\r\n\r\nexport default function* rootSaga() {\r\n  yield all([watchProducts()]);\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport * as productsActions from './productsActions';\r\n\r\nconst products = createReducer([], {\r\n  [productsActions.getProductsSucces]: (state, action) => [...action.payload.items],\r\n  [productsActions.getOwnProductsSucces]: (state, action) => [...action.payload.items],\r\n  [productsActions.postProductSucces]: (state, action) => [...state, action.payload],\r\n  [productsActions.patchProductSucces]: (state, action) =>\r\n    state.map(product => (product.id !== action.payload.id ? product : action.payload)),\r\n});\r\n\r\nconst currentProduct = createReducer(\r\n  {},\r\n  {\r\n    [productsActions.getCurrentProductSucces]: (state, action) => ({ ...action.payload }),\r\n    [productsActions.getCurrentProductRequest]: () => {\r\n      return {};\r\n    },\r\n    [productsActions.patchProductSucces]: (state, action) => (state.id === action.payload.id ? action.payload : state),\r\n  },\r\n);\r\n\r\nconst origins = createReducer([], {\r\n  [productsActions.getOriginsSucces]: (state, action) => [...action.payload],\r\n});\r\n\r\nconst totalProducts = createReducer(0, {\r\n  [productsActions.getProductsSucces]: (state, action) => action.payload.totalItems,\r\n  [productsActions.getOwnProductsSucces]: (state, action) => action.payload.totalItems,\r\n});\r\n\r\nconst editedProduct = createReducer(\r\n  {},\r\n  {\r\n    [productsActions.setEditedProduct]: (state, action) => action.payload,\r\n    [productsActions.patchProductRequest]: () => ({}),\r\n  },\r\n);\r\n\r\nexport default combineReducers({\r\n  products,\r\n  currentProduct,\r\n  editedProduct,\r\n  origins,\r\n  totalProducts,\r\n});\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const logInRequest = createAction('auth/LOGIN_REQUEST');\r\nexport const logInSucces = createAction('app/LOGIN_SUCCES');\r\nexport const logInError = createAction('app/LOGIN_ERROR');\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport * as productsActions from '../products/productsActions';\r\nimport { loaderOn, loaderOff, showFilters, showProductForm } from './appActions';\r\nimport { logInRequest, logInSucces, logInError } from '../auth/authActions';\r\n\r\nconst errors = createReducer(\r\n  {},\r\n  {\r\n    [productsActions.getProductsError]: (state, action) => ({ ...action.payload }),\r\n    [productsActions.getCurrentProductError]: (state, action) => ({ ...action.payload }),\r\n  },\r\n);\r\n\r\nconst isLoading = createReducer(false, {\r\n  [productsActions.getProductsRequest]: () => true,\r\n  [productsActions.getCurrentProductRequest]: () => true,\r\n  [loaderOn]: () => true,\r\n  [logInRequest]: () => true,\r\n\r\n  [productsActions.getProductsSucces]: () => false,\r\n  [productsActions.getProductsError]: () => false,\r\n  [productsActions.getCurrentProductSucces]: () => false,\r\n  [productsActions.getCurrentProductError]: () => false,\r\n  [loaderOff]: () => false,\r\n  [logInError]: () => false,\r\n  [logInSucces]: () => false,\r\n\r\n  [productsActions.getOriginsRequest]: () => true,\r\n  [productsActions.getOriginsSucces]: () => false,\r\n});\r\n\r\nconst isShowFilters = createReducer(false, {\r\n  [showFilters]: (state, action) => action.payload,\r\n});\r\n\r\nconst isShowProductForm = createReducer(false, {\r\n  [showProductForm]: (state, action) => action.payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  errors,\r\n  isLoading,\r\n  isShowFilters,\r\n  isShowProductForm,\r\n});\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport { addToCart, removeFromCart, incrementProductQuantity, decrementProductQuantity } from './cartActions';\r\n\r\nconst cart = createReducer(\r\n  {},\r\n  {\r\n    [addToCart]: (state, action) => {\r\n      if (state[action.payload.id]) {\r\n        return {\r\n          ...state,\r\n          [action.payload.id]: { ...state[action.payload.id], quantity: state[action.payload.id].quantity + 1 },\r\n        };\r\n      }\r\n\r\n      return { ...state, [action.payload.id]: { ...action.payload, quantity: 1 } };\r\n    },\r\n\r\n    [removeFromCart]: (state, action) => {\r\n      const clone = { ...state };\r\n      delete clone[action.payload];\r\n      return clone;\r\n    },\r\n    [incrementProductQuantity]: (state, action) => {\r\n      if (!state[action.payload]) return;\r\n      return {\r\n        ...state,\r\n        [action.payload]: { ...state[action.payload], quantity: state[action.payload].quantity + 1 },\r\n      };\r\n    },\r\n    [decrementProductQuantity]: (state, action) => {\r\n      if (!state[action.payload] || state[action.payload].quantity < 2) return;\r\n      return {\r\n        ...state,\r\n        [action.payload]: { ...state[action.payload], quantity: state[action.payload].quantity - 1 },\r\n      };\r\n    },\r\n  },\r\n);\r\n\r\nexport default combineReducers({ cart });\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport * as filtersActions from './filtersActions';\r\nimport { productsPriceRange, productsPerPage } from '../../constants/productsFilters';\r\n\r\nconst origins = createReducer([], {\r\n  [filtersActions.setOrigins]: (state, action) => action.payload,\r\n  [filtersActions.setFilters]: (state, action) =>\r\n    action.payload.origins && action.payload.origins.length ? [...action.payload.origins] : [],\r\n  [filtersActions.resetFilters]: () => [],\r\n});\r\n\r\nconst price = createReducer(productsPriceRange, {\r\n  [filtersActions.setPrice]: (state, action) => [...action.payload],\r\n  [filtersActions.setFilters]: (state, action) => {\r\n    const { minPrice, maxPrice } = action.payload;\r\n    return [minPrice || productsPriceRange[0], maxPrice || productsPriceRange[1]];\r\n  },\r\n  [filtersActions.resetFilters]: () => productsPriceRange,\r\n});\r\n\r\nconst perPage = createReducer(productsPerPage[0], {\r\n  [filtersActions.setPerPage]: (state, action) => action.payload,\r\n  [filtersActions.setFilters]: (state, action) =>\r\n    action.payload.perPage ? action.payload.perPage : productsPerPage[0],\r\n  [filtersActions.resetFilters]: () => productsPerPage[0],\r\n});\r\n\r\nconst page = createReducer(1, {\r\n  [filtersActions.setPage]: (state, action) => action.payload,\r\n  [filtersActions.setPerPage]: (state, action) => (state !== 1 ? 1 : state),\r\n  [filtersActions.setOrigins]: (state, action) => (state !== 1 ? 1 : state),\r\n  [filtersActions.setPrice]: (state, action) => (state !== 1 ? 1 : state),\r\n  [filtersActions.setFilters]: (state, action) => (action.payload.page ? action.payload.page : 1),\r\n  [filtersActions.resetFilters]: () => 1,\r\n});\r\n\r\nconst editable = createReducer(false, {\r\n  [filtersActions.setEditable]: (state, action) => action.payload,\r\n  [filtersActions.setFilters]: (state, action) => (action.payload.editable ? action.payload.editable : false),\r\n  [filtersActions.resetFilters]: () => false,\r\n});\r\n\r\nexport default combineReducers({ origins, price, perPage, page, editable });\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport { logInError, logInRequest, logInSucces } from './authActions';\r\n\r\nconst errors = createReducer(\r\n  {},\r\n  {\r\n    [logInRequest]: (state, action) => ({}),\r\n    [logInError]: (state, action) => action.payload,\r\n  },\r\n);\r\n\r\nconst user = createReducer(\r\n  {},\r\n  {\r\n    [logInSucces]: (state, action) => action.payload.email,\r\n  },\r\n);\r\n\r\nexport default combineReducers({\r\n  errors,\r\n  user,\r\n});\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { combineReducers } from 'redux';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport { reducer as toastrReducer } from 'react-redux-toastr';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport rootSaga from './rootSaga';\r\nimport createSagaMiddleware from 'redux-saga';\r\n\r\nimport products from './products/productsReducer';\r\nimport app from './app/appReducer';\r\nimport cart from './cart/cartReducer';\r\nimport filters from './filters/filtersReducer';\r\nimport auth from './auth/authReducer';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst persistConfig = {\r\n  key: 'cart',\r\n  storage,\r\n};\r\n\r\nconst middlewares = [sagaMiddleware];\r\n\r\nconst rootReducer = combineReducers({\r\n  app,\r\n  products,\r\n  filters,\r\n  cart: persistReducer(persistConfig, cart),\r\n  auth,\r\n  toastr: toastrReducer,\r\n});\r\n\r\nexport const store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware: middlewares,\r\n  devTools: true,\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nsagaMiddleware.run(rootSaga);\r\n","import { useCallback } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { logInSucces, logInRequest, logInError } from '../../redux/auth/authActions';\r\n\r\nconst { REACT_APP_API_TOKEN } = process.env;\r\n\r\nconst user = {\r\n  email: 'taran-dev@gmail.com',\r\n  token: REACT_APP_API_TOKEN,\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const authAsync = useCallback(async () => {\r\n    try {\r\n      dispatch(logInRequest());\r\n      dispatch(logInSucces(user));\r\n    } catch (e) {\r\n      dispatch(logInError(e));\r\n    }\r\n  }, [dispatch]);\r\n\r\n  return { authAsync };\r\n};\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport styles from './Header.module.css';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport routes from '../../constants/routes';\r\nimport CircleButton from '../share/buttons/CircleButton/CircleButton';\r\nimport plusSVG from '../../images/plus.svg';\r\nimport cartSVG from '../../images/cart.svg';\r\nimport SimpleLabel from '../share/labels/SimpleLabel/SimpleLabel';\r\nimport currencyFormatter from '../../helpers/currencyFormatter';\r\n\r\nexport default function Header({ pathname, totalQuantity, totalPrice, handleOpenProductForm }) {\r\n  return (\r\n    <header className={styles.header}>\r\n      <Link to={{ pathname: routes.INDEX.INDEX, state: { resetFilters: true } }} className={styles.link}>\r\n        <h1 className={styles.logo}>YOLX</h1>\r\n      </Link>\r\n\r\n      <div className={styles.wrap}>\r\n        {pathname !== routes.CART.INDEX ? (\r\n          <>\r\n            <NavLink\r\n              className={styles.link}\r\n              activeClassName={styles.activeLink}\r\n              to={{ pathname: routes.OWN_PRODUCTS.INDEX, state: { resetFilters: true } }}\r\n            >\r\n              My Products\r\n            </NavLink>\r\n            <CircleButton onClick={handleOpenProductForm}>\r\n              <img src={plusSVG} alt=\"add product\" />\r\n            </CircleButton>\r\n            <div className={styles.cart}>\r\n              <Link to={routes.CART.INDEX} className={styles.link}>\r\n                <img src={cartSVG} alt=\"Cart\" className={styles.cartImage} />\r\n                <SimpleLabel overStyle={styles.price} text={`Total : ${currencyFormatter(totalPrice) || 0}`} />\r\n                <span className={styles.quantityIcon}>{totalQuantity}</span>\r\n              </Link>\r\n            </div>\r\n          </>\r\n        ) : null}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  pathname: propTypes.string.isRequired,\r\n  handleOpenProductForm: propTypes.func.isRequired,\r\n  totalQuantity: propTypes.number.isRequired,\r\n  totalPrice: propTypes.number.isRequired,\r\n};\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { getTotalPrice, getTotalQuantity } from '../../redux/cart/cartSelectors';\r\nimport { getIsShowProductForm } from '../../redux/app/appSelectors';\r\nimport { showProductForm } from '../../redux/app/appActions';\r\nimport { setEditedProduct } from '../../redux/products/productsActions';\r\nimport Header from './Header';\r\n\r\nexport default function HeaderContainer() {\r\n  const { pathname } = useLocation();\r\n  const totalPrice = useSelector(getTotalPrice);\r\n  const totalQuantity = useSelector(getTotalQuantity);\r\n\r\n  const dispatch = useDispatch();\r\n  const isShowProductForm = useSelector(getIsShowProductForm);\r\n\r\n  const handleOpenProductForm = () => {\r\n    dispatch(setEditedProduct({}));\r\n    dispatch(showProductForm(!isShowProductForm));\r\n  };\r\n\r\n  return (\r\n    <Header\r\n      pathname={pathname}\r\n      handleOpenProductForm={handleOpenProductForm}\r\n      totalQuantity={totalQuantity}\r\n      totalPrice={totalPrice}\r\n    />\r\n  );\r\n}\r\n","import { object, string, number, mixed } from 'yup';\r\nimport { productsOrigins } from '../../constants/productsFilters';\r\n\r\nconst addProductSchema = object().shape({\r\n  name: string()\r\n    .min(3, 'Name must be at least 3 characters!')\r\n    .max(20, 'Name must be no more than 20 characters!')\r\n    .required('Name is required'),\r\n  price: number().min(1, 'Price must be at least 1!').required('Price is required'),\r\n  origin: mixed().oneOf(productsOrigins),\r\n});\r\n\r\nexport default addProductSchema;\r\n","import React, { useRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport useOutsideClick from '../../../hooks/useOutsideClick';\r\nimport useHideBodyOferflow from '../../../hooks/useHideBodyOferflow';\r\nimport Button from '../../share/buttons/Button/Button';\r\n\r\nimport styles from './Modal.module.css';\r\n\r\nexport default function Modal({ onClose, children }) {\r\n  useHideBodyOferflow();\r\n  const childRef = useRef();\r\n\r\n  useOutsideClick(childRef, () => {\r\n    onClose();\r\n  });\r\n\r\n  return createPortal(\r\n    <div className={styles.container}>\r\n      <Button onClick={onClose} overStyle={styles.closePortalButton} />\r\n      <div ref={childRef} className={styles.overlay}>\r\n        <div>{children}</div>\r\n      </div>\r\n    </div>,\r\n    document.getElementById('modal'),\r\n  );\r\n}\r\n","import React, { useMemo } from 'react';\r\nimport propTypes from 'prop-types';\r\nimport styles from './Input.module.css';\r\n\r\nexport default function Input({ value, name, type, onChange, onBlur, placeholder = '', error, touched, ...props }) {\r\n  const hasError = useMemo(() => error && touched, [error, touched]);\r\n  return (\r\n    <div>\r\n      <input\r\n        className={styles.input}\r\n        name={name}\r\n        value={value}\r\n        type={type}\r\n        onChange={onChange}\r\n        onBlur={onBlur}\r\n        placeholder={placeholder}\r\n        {...props}\r\n      />\r\n      <div>{hasError && <span className={styles.errorText}>{error}</span>}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nInput.propTypes = {\r\n  value: propTypes.oneOfType([propTypes.number, propTypes.string]).isRequired,\r\n  type: propTypes.string.isRequired,\r\n  onChange: propTypes.func.isRequired,\r\n  placeholder: propTypes.string,\r\n  error: propTypes.string,\r\n  touched: propTypes.bool,\r\n  props: propTypes.object,\r\n};\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport { Field, Form, Formik } from 'formik';\r\nimport addProductSchema from '../../helpers/schemas/addProductSchema';\r\nimport Modal from '../Portal/Modal/Modal';\r\nimport Input from '../share/inputs/Input/Input';\r\nimport Button from '../share/buttons/Button/Button';\r\nimport styles from './AddProductForm.module.css';\r\n\r\nexport default function AddProductForm({\r\n  initialState,\r\n  origins,\r\n  handleSubmit,\r\n  isEdit,\r\n  editedProduct,\r\n  handleOpenProductForm,\r\n}) {\r\n  return (\r\n    <Formik\r\n      initialValues={initialState}\r\n      validationSchema={addProductSchema}\r\n      onSubmit={values => {\r\n        handleSubmit(editedProduct.id, values);\r\n      }}\r\n    >\r\n      {({ errors, touched, values, isSubmitting, handleChange, handleBlur, handleReset }) => (\r\n        <Modal onClose={handleOpenProductForm}>\r\n          <div className={styles.container}>\r\n            <h2 className={styles.formTitle}>{`${isEdit ? 'EDIT' : 'ADD'} YOUR  PRODUCT`}</h2>\r\n            <Form>\r\n              <label htmlFor=\"name\">\r\n                Name* :\r\n                <Input\r\n                  disabled={isSubmitting}\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={values.name}\r\n                  error={errors.name}\r\n                  touched={touched.name}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                />\r\n              </label>\r\n              <label htmlFor=\"price\">\r\n                Price* :\r\n                <Input\r\n                  disabled={isSubmitting}\r\n                  type=\"number\"\r\n                  name=\"price\"\r\n                  value={values.price}\r\n                  error={errors.price}\r\n                  touched={touched.price}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                />\r\n              </label>\r\n              Origin* :{' '}\r\n              <label htmlFor=\"origin\">\r\n                <Field as=\"select\" name=\"origin\" disabled={isSubmitting} className={styles.select}>\r\n                  {origins.map(origin => (\r\n                    <option key={origin.value} value={origin.value}>\r\n                      {origin.displayName}\r\n                    </option>\r\n                  ))}\r\n                </Field>\r\n                {errors.origin && touched.origin ? <div className={styles.errorText}>{errors.origin}</div> : null}\r\n              </label>\r\n              <Button actionType=\"button\" disabled={isSubmitting} onClick={handleReset}>\r\n                Сancel changes\r\n              </Button>\r\n              <Button actionType=\"submit\" type=\"submit\" disabled={isSubmitting}>\r\n                Submit\r\n              </Button>\r\n            </Form>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n    </Formik>\r\n  );\r\n}\r\n\r\nAddProductForm.propTypes = {\r\n  origins: propTypes.arrayOf(propTypes.shape({ value: propTypes.string, displayName: propTypes.string })).isRequired,\r\n  initialState: propTypes.shape({\r\n    name: propTypes.string.isRequired,\r\n    price: propTypes.number.isRequired,\r\n    origin: propTypes.string.isRequired,\r\n  }).isRequired,\r\n  handleSubmit: propTypes.func.isRequired,\r\n  isEdit: propTypes.bool.isRequired,\r\n  editedProduct: propTypes.shape({\r\n    name: propTypes.string.isRequired,\r\n    price: propTypes.number.isRequired,\r\n    origin: propTypes.string.isRequired,\r\n  }),\r\n  handleOpenProductForm: propTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getIsShowProductForm } from '../../redux/app/appSelectors';\r\nimport { showProductForm } from '../../redux/app/appActions';\r\nimport { getEditedProduct } from '../../redux/products/productsSelectors';\r\nimport { postProductRequest, patchProductRequest } from '../../redux/products/productsActions';\r\nimport { productsOrigins } from '../../constants/productsFilters';\r\n\r\nimport AddProductForm from './AddProductForm';\r\n\r\nfunction AddProductFormContainer({ origins }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const editedProduct = useSelector(getEditedProduct);\r\n  const isEdit = !!Object.keys(editedProduct).length;\r\n\r\n  const isShowProductForm = useSelector(getIsShowProductForm);\r\n  const handleOpenProductForm = () => dispatch(showProductForm(!isShowProductForm));\r\n\r\n  const handleSubmit = (productId, values) => {\r\n    isEdit ? dispatch(patchProductRequest({ productId, values })) : dispatch(postProductRequest(values));\r\n  };\r\n\r\n  const initialState = {\r\n    name: isEdit ? editedProduct.name : '',\r\n    price: isEdit ? editedProduct.price : 0,\r\n    origin: isEdit ? editedProduct.origin : productsOrigins[0],\r\n  };\r\n\r\n  return (\r\n    <AddProductForm\r\n      initialState={initialState}\r\n      origins={origins}\r\n      handleSubmit={handleSubmit}\r\n      isEdit={isEdit}\r\n      editedProduct={editedProduct}\r\n      handleOpenProductForm={handleOpenProductForm}\r\n    />\r\n  );\r\n}\r\n\r\nexport default AddProductFormContainer;\r\n","import React, { lazy, Suspense } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport routes from '../constants/routes';\r\n\r\nimport ProductsPage from '../pages/ProductsPage/ProductsPage';\r\n\r\nconst CartPageAsync = lazy(() => import('../pages/CartPage/CartPage' /* webpackChunkName: \"cart-page\" */));\r\n\r\nconst ProductPageAsync = lazy(() => import('../pages/ProductPage/ProductPage' /* webpackChunkName: \"products-page\" */));\r\n\r\nconst OwnProductsPageAsync = lazy(() =>\r\n  import('../pages/OwnProductsPage/OwnProductsPage' /* webpackChunkName: \"own-products-page\" */),\r\n);\r\n\r\nconst PagesRouter = () => (\r\n  <Suspense fallback={null}>\r\n    <Switch>\r\n      <Route path={routes.INDEX.INDEX} exact component={ProductsPage} />\r\n      <Route path={routes.OWN_PRODUCTS.INDEX} exact component={OwnProductsPageAsync} />\r\n      <Route path={routes.CART.INDEX} component={CartPageAsync} />\r\n      <Route path={routes.PRODUCT.INDEX} component={ProductPageAsync} />\r\n      <Redirect to={routes.INDEX.INDEX} />\r\n    </Switch>\r\n  </Suspense>\r\n);\r\n\r\nexport default PagesRouter;\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport styles from './App.module.css';\r\nimport HeaderContainer from '../Header/HeaderContainer';\r\nimport AddProductFormContainer from '../AddProductForm/AddProductFormContainer';\r\nimport PagesRouter from '../../routes/PagesRouter';\r\n\r\nexport default function App({ isShowProductForm, origins }) {\r\n  return (\r\n    <div className={styles.main}>\r\n      <HeaderContainer />\r\n      {isShowProductForm && <AddProductFormContainer origins={origins} />}\r\n      <PagesRouter />\r\n    </div>\r\n  );\r\n}\r\n\r\nApp.propTypes = {\r\n  isShowProductForm: propTypes.bool.isRequired,\r\n  origins: propTypes.arrayOf(\r\n    propTypes.shape({\r\n      value: propTypes.string.isRequired,\r\n      displayName: propTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { store, persistor } from './redux/store';\r\nimport ReduxToastr from 'react-redux-toastr';\r\nimport './styles/variables.css';\r\nimport './styles/index.css';\r\nimport 'react-redux-toastr/lib/css/react-redux-toastr.min.css';\r\nimport App from './components/App/AppContainer';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <PersistGate loading={null} persistor={persistor}>\r\n      <React.StrictMode>\r\n        <Router>\r\n          <Route component={App} />\r\n        </Router>\r\n      </React.StrictMode>\r\n    </PersistGate>\r\n    <ReduxToastr\r\n      timeOut={4000}\r\n      newestOnTop={false}\r\n      preventDuplicates\r\n      position=\"top-left\"\r\n      getState={state => state.toastr} // This is the default\r\n      transitionIn=\"fadeIn\"\r\n      transitionOut=\"fadeOut\"\r\n      progressBar\r\n      closeOnToastrClick\r\n    />\r\n  </Provider>,\r\n  document.getElementById('root'),\r\n);\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useAuth } from '../../hooks/auth/useAuth';\r\nimport { getOriginsRequest } from '../../redux/products/productsActions';\r\nimport { useSelector } from 'react-redux';\r\nimport { getIsShowProductForm } from '../../redux/app/appSelectors';\r\nimport { getOrigins } from '../../redux/products/productsSelectors';\r\nimport App from './App';\r\n\r\nexport default function AppContainer() {\r\n  const { authAsync } = useAuth();\r\n  const dispatch = useDispatch();\r\n  const getProductsOrigins = useCallback(() => dispatch(getOriginsRequest()), [dispatch]);\r\n\r\n  const isShowProductForm = useSelector(getIsShowProductForm);\r\n\r\n  useEffect(() => {\r\n    getProductsOrigins();\r\n    authAsync();\r\n  }, [getProductsOrigins, authAsync]);\r\n\r\n  const origins = useSelector(getOrigins);\r\n\r\n  return <App isShowProductForm={isShowProductForm} origins={origins} />;\r\n}\r\n","export const productsPerPage = [50, 25, 10];\r\n\r\nexport const productsPriceRange = [0, 2000];\r\n\r\nexport const productsOrigins = ['asia', 'africa', 'usa', 'europe'];\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const loaderOn = createAction('app/LOADER_ON');\r\nexport const loaderOff = createAction('app/LOADER_OFF');\r\n\r\nexport const showFilters = createAction('app/SHOW_FILTER');\r\n\r\nexport const showProductForm = createAction('app/SHOW_PRODUCT_FORM');\r\n","export default {\r\n  INDEX: {\r\n    INDEX: '/products',\r\n  },\r\n  OWN_PRODUCTS: {\r\n    INDEX: '/products/own',\r\n  },\r\n\r\n  CART: {\r\n    INDEX: '/cart',\r\n  },\r\n\r\n  PRODUCT: {\r\n    createPath: productId => ['/products', productId].filter(Boolean).join('/'),\r\n    INDEX: '/products/:productId',\r\n    DEFAULT_PATH: '/products',\r\n  },\r\n};\r\n","export const getProducts = state => state.products.products;\r\n\r\nexport const getCurrentProduct = state => state.products.currentProduct;\r\n\r\nexport const getOrigins = state => state.products.origins;\r\n\r\nexport const getTotalQuantity = state => state.products.totalProducts;\r\n\r\nexport const getEditedProduct = state => state.products.editedProduct;\r\n\r\nexport const getIsOwnProduct = product => () => product.isEditable;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__THCFU\",\"logo\":\"Header_logo__fnVZw\",\"cart\":\"Header_cart__3HzrY\",\"link\":\"Header_link__3_29Z\",\"cartImage\":\"Header_cartImage__3K86d\",\"price\":\"Header_price__31ULP\",\"quantityIcon\":\"Header_quantityIcon__Jlk55\",\"wrap\":\"Header_wrap__X8ShD\",\"activeLink\":\"Header_activeLink__2GmqK Header_link__3_29Z\"};","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport buttonTypes from '../../../../constants/buttonTypes';\r\nimport styles from './Button.module.css';\r\n\r\nconst mapStyle = (type, disabled) => {\r\n  let buttonStyle;\r\n\r\n  if (disabled) {\r\n    return (buttonStyle = styles.buttonDisabled);\r\n  }\r\n\r\n  switch (type) {\r\n    case 'submit':\r\n      buttonStyle = styles.buttonSubmit;\r\n      break;\r\n    case 'cancel':\r\n      buttonStyle = styles.buttonCancel;\r\n      break;\r\n    case 'edit':\r\n      buttonStyle = styles.buttonEdit;\r\n      break;\r\n    default:\r\n      buttonStyle = styles.button;\r\n  }\r\n\r\n  return buttonStyle;\r\n};\r\n\r\nexport default function Button({ onClick, actionType, type, children, disabled, overStyle }) {\r\n  return (\r\n    <button\r\n      type={actionType}\r\n      onClick={onClick}\r\n      className={overStyle ? overStyle : mapStyle(type, disabled)}\r\n      disabled={disabled}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: propTypes.func,\r\n  type: propTypes.oneOf(Object.values(buttonTypes)),\r\n  disabled: propTypes.bool,\r\n};\r\n\r\nButton.defaultProps = {\r\n  disabled: false,\r\n};\r\n","export const getFilters = state => state.filters;\r\n\r\nexport const getFilteredOrigins = state => state.filters.origins;\r\n\r\nexport const getFilteredPrice = state => state.filters.price;\r\n\r\nexport const getPerPage = state => state.filters.perPage;\r\n\r\nexport const getCurrentPage = state => state.filters.page;\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const addToCart = createAction('cart/ADD_TO_CART');\r\nexport const removeFromCart = createAction('cart/REMOVE_FROM_CART');\r\n\r\nexport const incrementProductQuantity = createAction('cart/INCREMENT_QUANTITY');\r\nexport const decrementProductQuantity = createAction('cart/DECREMENT_QUANTITY');\r\n","export const getErrors = state => state.app.errors;\r\n\r\nexport const getIsLoading = state => state.app.isLoading;\r\n\r\nexport const getIsShowFilters = state => state.app.isShowFilters;\r\n\r\nexport const getIsShowProductForm = state => state.app.isShowProductForm;\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\n// ALL PRODUCTS\r\nexport const getProductsRequest = createAction('products/GET_PRODUCTS_REQUEST');\r\nexport const getProductsSucces = createAction('products/GET_PRODUCTS_SUCCES');\r\nexport const getProductsError = createAction('products/GET_PRODUCTS_ERROR');\r\n\r\n// OWN PRODUCTS\r\nexport const getOwnProductsRequest = createAction('products/GET_OWN_PRODUCTS_REQUEST');\r\nexport const getOwnProductsSucces = createAction('products/GET_OWN_PRODUCTS_SUCCES');\r\nexport const getOwnProductsError = createAction('products/GET_OWN_PRODUCTS_ERROR');\r\n\r\n// CURRENT PRODUCT\r\nexport const getCurrentProductRequest = createAction('products/GET_CURRENT_PRODUCT_REQUEST');\r\nexport const getCurrentProductSucces = createAction('products/GET_CURRENT_PRODUCT_SUCCES');\r\nexport const getCurrentProductError = createAction('products/GET_CURRENT_PRODUCT_ERROR');\r\n\r\n// ORIGINS\r\nexport const getOriginsRequest = createAction('products/GET_ORIGINS_REQUEST');\r\nexport const getOriginsSucces = createAction('products/GET_ORIGINS_SUCCES');\r\nexport const getOriginsError = createAction('products/GET_ORIGINS_ERROR');\r\n\r\n// POST PRODUCT\r\nexport const postProductRequest = createAction('products/POST_PRODUCT_REQUEST');\r\nexport const postProductSucces = createAction('products/POST_PRODUCT_SUCCES');\r\nexport const postProductError = createAction('products/POST_PRODUCT_ERROR');\r\n\r\n// PATCH PRODUCT\r\nexport const patchProductRequest = createAction('products/PATCH_PRODUCT_REQUEST');\r\nexport const patchProductSucces = createAction('products/PATCH_PRODUCT_SUCCES');\r\nexport const patchProductError = createAction('products/PATCH_PRODUCT_ERROR');\r\n\r\n// EDITED PRODUCT\r\nexport const setEditedProduct = createAction('products/SET_EDITED_PRODUCT');\r\n","import qs from 'qs';\r\nimport { productsPerPage, productsPriceRange } from '../constants/productsFilters';\r\n\r\nexport const mapFiltersToParams = ({ page, perPage, price, origins, editable }) => {\r\n  return { page, perPage, minPrice: price[0], maxPrice: price[1], origins, editable };\r\n};\r\n\r\nexport const stringifyParams = params => {\r\n  return `?${qs.stringify(params)}`;\r\n};\r\n\r\nexport const parseFiltersFromUrl = queryString => {\r\n  const parsedFilters = qs.parse(queryString.slice(1));\r\n\r\n  return {\r\n    ...parsedFilters,\r\n    minPrice:\r\n      typeof Number(parsedFilters.minPrice) === 'number' ? Number(parsedFilters.minPrice) : productsPriceRange[0],\r\n    maxPrice:\r\n      typeof Number(parsedFilters.maxPrice) === 'number' ? Number(parsedFilters.maxPrice) : productsPriceRange[1],\r\n    perPage: typeof Number(parsedFilters.perPage) === 'number' ? Number(parsedFilters.perPage) : productsPerPage[0],\r\n    page: typeof Number(parsedFilters.page) === 'number' ? Number(parsedFilters.page) : 1,\r\n    editable: parsedFilters.editable && parsedFilters.editable === 'true' ? true : false,\r\n  };\r\n};\r\n","import React from 'react';\r\nimport styles from './CircleButton.module.css';\r\n\r\nexport default function CircleButton({ children, onClick }) {\r\n  return (\r\n    <button className={styles.button} onClick={onClick}>\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1ONa_\",\"buttonSubmit\":\"Button_buttonSubmit__kNqzR Button_button__1ONa_\",\"buttonCancel\":\"Button_buttonCancel__1m16I Button_button__1ONa_\",\"buttonEdit\":\"Button_buttonEdit__1Iyhq Button_button__1ONa_\",\"buttonDisabled\":\"Button_buttonDisabled__21HYK Button_button__1ONa_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"styleOrigin\":\"OriginLabel_styleOrigin__qESVz\",\"styleOriginAsia\":\"OriginLabel_styleOriginAsia__njs6N OriginLabel_styleOrigin__qESVz\",\"styleOriginEurope\":\"OriginLabel_styleOriginEurope__117fV OriginLabel_styleOrigin__qESVz\",\"styleOriginUsa\":\"OriginLabel_styleOriginUsa__2Xhn4 OriginLabel_styleOrigin__qESVz\",\"styleOriginAfrica\":\"OriginLabel_styleOriginAfrica__3PzSo OriginLabel_styleOrigin__qESVz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FilterForm_container__Chqst\",\"formContainer\":\"FilterForm_formContainer__yYdNH\",\"priceRangeValues\":\"FilterForm_priceRangeValues__RVUC8\",\"priceContainer\":\"FilterForm_priceContainer__3Uylq\"};","import { createSelector } from 'reselect';\r\nimport { reducerForPrice } from '../../helpers/productHelpers';\r\n\r\nexport const getCart = state => state.cart.cart;\r\n\r\nexport const getProductsInCart = createSelector([getCart], cart => Object.values(cart));\r\nexport const getProductsIdInCart = createSelector([getCart], cart => Object.keys(cart));\r\n\r\nexport const getTotalPrice = createSelector([getProductsInCart], products => products.reduce(reducerForPrice, 0));\r\n\r\nexport const getTotalQuantity = createSelector([getProductsInCart], products =>\r\n  products.reduce((acc, item) => acc + item.quantity, 0),\r\n);\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\nexport default function SimpleLabel({ text, overStyle }) {\r\n  return <p className={overStyle}>{text}</p>;\r\n}\r\n\r\nSimpleLabel.propTypes = {\r\n  text: propTypes.string.isRequired,\r\n  overStyle: propTypes.string,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AddProductForm_container__3RrFW\",\"formTitle\":\"AddProductForm_formTitle__2hHwx\",\"errorText\":\"AddProductForm_errorText__2dWwq\",\"select\":\"AddProductForm_select__1Mfrv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProductItem_container__ER-e3\",\"link\":\"ProductItem_link__3yugb\",\"image\":\"ProductItem_image__2tJhF\",\"paragraph\":\"ProductItem_paragraph__Q6Zp6\",\"name\":\"ProductItem_name__mi7FP ProductItem_paragraph__Q6Zp6\",\"icon\":\"ProductItem_icon__3eVf0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SidePortal_container__EIIL8\",\"overlay\":\"SidePortal_overlay__2Scpe\",\"childrenContainer\":\"SidePortal_childrenContainer__3spvf SidePortal_overlay__2Scpe\",\"closePortalButton\":\"SidePortal_closePortalButton__3S3KA\"};"],"sourceRoot":""}