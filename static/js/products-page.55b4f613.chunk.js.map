{"version":3,"sources":["components/ProductCardBig/ProductCardBig.module.css","components/share/buttons/CountButton/CountButton.module.css","components/share/buttons/CountButton/CountButton.js","components/ProductCardBig/ProductCardBig.js","components/ProductCardBig/ProductCardBigContainer.js","components/ProductPageCard/ProductPageCard.js","pages/ProductPage/ProductPage.js"],"names":["module","exports","CountButton","onClick","children","overStyle","className","styles","button","defaultProps","ProductCardBig","product","isInCart","quantity","handleProductIncrement","handleProductDecrement","handleAddProductToCart","handleRemoveProductFromCart","handleEditClick","isOwnProduct","withCountButtons","totalPrice","container","BaseProductInfo","Button","SimpleLabel","text","type","ProductCardBigContainer","productsInCart","useSelector","getProductsIdInCart","cart","getCart","dispatch","useDispatch","isAlreadyInCart","id","getIsOwnProduct","currencyFormatter","reducerForPrice","mapPriceToCart","incrementProductQuantity","decrementProductQuantity","addToCart","removeFromCart","setEditedProduct","showProductForm","ProductPageCard","ProductPage","productId","useParams","fetchCurrentProduct","useCallback","getCurrentProductRequest","useEffect","getCurrentProduct","Object","keys","length"],"mappings":"uGACAA,EAAOC,QAAU,CAAC,UAAY,kCAAkC,KAAO,+B,oBCAvED,EAAOC,QAAU,CAAC,OAAS,8B,oMCGZ,SAASC,EAAT,GAAwD,IAAjCC,EAAgC,EAAhCA,QAASC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,UACvD,OACE,4BAAQF,QAASA,EAASG,UAAWD,GAAwBE,IAAOC,QACjEJ,GASPF,EAAYO,aAAe,CACzBN,QAAS,kBAAM,O,oBCTF,SAASO,EAAT,GAaX,IAZFC,EAYC,EAZDA,QACAP,EAWC,EAXDA,SACAQ,EAUC,EAVDA,SACAC,EASC,EATDA,SACAC,EAQC,EARDA,uBACAC,EAOC,EAPDA,uBACAC,EAMC,EANDA,uBACAC,EAKC,EALDA,4BACAC,EAIC,EAJDA,gBACAC,EAGC,EAHDA,aACAC,EAEC,EAFDA,iBACAC,EACC,EADDA,WAEA,OACE,yBAAKf,UAAWC,IAAOe,WACrB,6BACE,kBAACC,EAAA,EAAD,CAAiBZ,QAASA,IACzBP,EAECe,EAqBA,kBAACK,EAAA,EAAD,CAAQrB,QAASe,GAAjB,gBApBA,6BACGN,EACC,oCACGQ,EACC,mDACqB,kBAAClB,EAAD,CAAaC,QAASY,GAAtB,KADrB,IACoFF,EAAU,IAC5F,kBAACX,EAAD,CAAaC,QAASW,GAAtB,KACA,kBAACW,EAAA,EAAD,CAAaC,KAAI,oBAAeb,EAAf,oBAAmCQ,MAEpD,KAEJ,kBAACG,EAAA,EAAD,CAAQrB,QAASc,GAAjB,qBAGF,kBAACO,EAAA,EAAD,CAAQrB,QAASa,EAAwBW,KAAK,UAA9C,kBA8BdjB,EAAeD,aAAe,CAC5BW,kBAAkB,EAClBR,UAAU,GCvDG,SAASgB,EAAT,GAA2E,IAAxCjB,EAAuC,EAAvCA,QAASS,EAA8B,EAA9BA,iBAAkBhB,EAAY,EAAZA,SACrEyB,EAAiBC,sBAAYC,KAC7BC,EAAOF,sBAAYG,KACnBC,EAAWC,wBAEXvB,EAAWwB,YAAgBzB,EAAQ0B,GAAIR,GACvChB,EAAYmB,EAAKrB,EAAQ0B,KAAOL,EAAKrB,EAAQ0B,IAAIxB,UAAa,EAY9DM,EAAeW,sBAAYQ,YAAgB3B,IAC3CU,EAAaW,EAAKrB,EAAQ0B,KAvBX,SAAA1B,GACrB,OAAO4B,YAAkBC,YAAgB,EAAG7B,IAsBL8B,CAAeT,EAAKrB,EAAQ0B,KAEnE,OACE,kBAAC3B,EAAD,CACEC,QAASA,EACTC,SAAUA,EACVC,SAAUA,EACVC,uBAlB2B,kBAAMoB,EAASQ,YAAyB/B,EAAQ0B,MAmB3EtB,uBAlB2B,kBAAMmB,EAASS,YAAyBhC,EAAQ0B,MAmB3ErB,uBAlB2B,kBAAMkB,EAASU,YAAUjC,KAmBpDM,4BAlBgC,kBAAMiB,EAASW,YAAelC,EAAQ0B,MAmBtEnB,gBAjBoB,WACtBgB,EAASY,YAAiBnC,IAC1BuB,EAASa,aAAgB,KAgBvB5B,aAAcA,EACdE,WAAYA,EACZD,iBAAkBA,EAClBhB,SAAUA,M,4HClDD,SAAS4C,EAAT,GAAuC,IAAZrC,EAAW,EAAXA,QACxC,OACE,6BACE,kBAACiB,EAAA,EAAD,CAAyBjB,QAASA,GAChC,6E,mBCDO,SAASsC,IAAe,IAC7BC,EAAcC,cAAdD,UAEFhB,EAAWC,wBACXiB,EAAsBC,uBAAY,kBAAMnB,EAASoB,YAAyBJ,MAAa,CAAChB,EAAUgB,IAExGK,qBAAU,WACRH,MACC,CAACA,IAEJ,IAAMzC,EAAUmB,sBAAY0B,KAE5B,OAAO,iCAAUC,OAAOC,KAAK/C,GAASgD,QAAU,kBAACX,EAAD,CAAiBrC,QAASA","file":"static/js/products-page.55b4f613.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProductCardBig_container__3TTZS\",\"link\":\"ProductCardBig_link__1YHPA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CountButton_button__3cvVv\"};","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport styles from './CountButton.module.css';\r\n\r\nexport default function CountButton({ onClick, children, overStyle }) {\r\n  return (\r\n    <button onClick={onClick} className={overStyle ? overStyle : styles.button}>\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\nCountButton.propTypes = {\r\n  onClick: propTypes.func,\r\n};\r\n\r\nCountButton.defaultProps = {\r\n  onClick: () => null,\r\n};\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport styles from './ProductCardBig.module.css';\r\nimport BaseProductInfo from '../BaseProductInfo/BaseProductInfo';\r\nimport CountButton from '../share/buttons/CountButton/CountButton';\r\nimport SimpleLabel from '../share/labels/SimpleLabel/SimpleLabel';\r\nimport Button from '../share/buttons/Button/Button';\r\n\r\nexport default function ProductCardBig({\r\n  product,\r\n  children,\r\n  isInCart,\r\n  quantity,\r\n  handleProductIncrement,\r\n  handleProductDecrement,\r\n  handleAddProductToCart,\r\n  handleRemoveProductFromCart,\r\n  handleEditClick,\r\n  isOwnProduct,\r\n  withCountButtons,\r\n  totalPrice,\r\n}) {\r\n  return (\r\n    <div className={styles.container}>\r\n      <div>\r\n        <BaseProductInfo product={product} />\r\n        {children}\r\n\r\n        {!isOwnProduct ? (\r\n          <div>\r\n            {isInCart ? (\r\n              <>\r\n                {withCountButtons ? (\r\n                  <div>\r\n                    Quantity in cart : <CountButton onClick={handleProductDecrement}>-</CountButton> {quantity}{' '}\r\n                    <CountButton onClick={handleProductIncrement}>+</CountButton>\r\n                    <SimpleLabel text={`Price for ${quantity} units : ${totalPrice}`} />\r\n                  </div>\r\n                ) : null}\r\n\r\n                <Button onClick={handleRemoveProductFromCart}>Remove from cart</Button>\r\n              </>\r\n            ) : (\r\n              <Button onClick={handleAddProductToCart} type=\"submit\">\r\n                Add to cart\r\n              </Button>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <Button onClick={handleEditClick}>Edit Product</Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nProductCardBig.propTypes = {\r\n  product: propTypes.shape({\r\n    id: propTypes.string.isRequired,\r\n  }).isRequired,\r\n  withCountButtons: propTypes.bool,\r\n  children: propTypes.node,\r\n  isInCart: propTypes.bool,\r\n  quantity: propTypes.number.isRequired,\r\n  isOwnProduct: propTypes.bool.isRequired,\r\n  handleProductIncrement: propTypes.func.isRequired,\r\n  handleProductDecrement: propTypes.func.isRequired,\r\n  handleAddProductToCart: propTypes.func.isRequired,\r\n  handleRemoveProductFromCart: propTypes.func.isRequired,\r\n  handleEditClick: propTypes.func.isRequired,\r\n  totalPrice: propTypes.string,\r\n};\r\n\r\nProductCardBig.defaultProps = {\r\n  withCountButtons: false,\r\n  isInCart: false,\r\n};\r\n","import React from 'react';\r\nimport { isAlreadyInCart, reducerForPrice } from '../../helpers/productHelpers';\r\nimport currencyFormatter from '../../helpers/currencyFormatter';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getProductsIdInCart, getCart } from '../../redux/cart/cartSelectors';\r\nimport { getIsOwnProduct } from '../../redux/products/productsSelectors';\r\nimport {\r\n  addToCart,\r\n  removeFromCart,\r\n  decrementProductQuantity,\r\n  incrementProductQuantity,\r\n} from '../../redux/cart/cartActions';\r\nimport { setEditedProduct } from '../../redux/products/productsActions';\r\nimport { showProductForm } from '../../redux/app/appActions';\r\nimport ProductCardBig from './ProductCardBig';\r\n\r\nconst mapPriceToCart = product => {\r\n  return currencyFormatter(reducerForPrice(0, product));\r\n};\r\n\r\nexport default function ProductCardBigContainer({ product, withCountButtons, children }) {\r\n  const productsInCart = useSelector(getProductsIdInCart);\r\n  const cart = useSelector(getCart);\r\n  const dispatch = useDispatch();\r\n\r\n  const isInCart = isAlreadyInCart(product.id, productsInCart);\r\n  const quantity = (cart[product.id] && cart[product.id].quantity) || 0;\r\n\r\n  const handleProductIncrement = () => dispatch(incrementProductQuantity(product.id));\r\n  const handleProductDecrement = () => dispatch(decrementProductQuantity(product.id));\r\n  const handleAddProductToCart = () => dispatch(addToCart(product));\r\n  const handleRemoveProductFromCart = () => dispatch(removeFromCart(product.id));\r\n\r\n  const handleEditClick = () => {\r\n    dispatch(setEditedProduct(product));\r\n    dispatch(showProductForm(true));\r\n  };\r\n\r\n  const isOwnProduct = useSelector(getIsOwnProduct(product));\r\n  const totalPrice = cart[product.id] && mapPriceToCart(cart[product.id]);\r\n\r\n  return (\r\n    <ProductCardBig\r\n      product={product}\r\n      isInCart={isInCart}\r\n      quantity={quantity}\r\n      handleProductIncrement={handleProductIncrement}\r\n      handleProductDecrement={handleProductDecrement}\r\n      handleAddProductToCart={handleAddProductToCart}\r\n      handleRemoveProductFromCart={handleRemoveProductFromCart}\r\n      handleEditClick={handleEditClick}\r\n      isOwnProduct={isOwnProduct}\r\n      totalPrice={totalPrice}\r\n      withCountButtons={withCountButtons}\r\n      children={children}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport ProductCardBigContainer from '../ProductCardBig/ProductCardBigContainer';\r\n\r\nexport default function ProductPageCard({ product }) {\r\n  return (\r\n    <div>\r\n      <ProductCardBigContainer product={product}>\r\n        <p>Additional information will be here later...</p>\r\n      </ProductCardBigContainer>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useCallback } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport ProductPageCard from '../../components/ProductPageCard/ProductPageCard';\r\nimport { getCurrentProductRequest } from '../../redux/products/productsActions';\r\nimport { getCurrentProduct } from '../../redux/products/productsSelectors';\r\n\r\nexport default function ProductPage() {\r\n  const { productId } = useParams();\r\n\r\n  const dispatch = useDispatch();\r\n  const fetchCurrentProduct = useCallback(() => dispatch(getCurrentProductRequest(productId)), [dispatch, productId]);\r\n\r\n  useEffect(() => {\r\n    fetchCurrentProduct();\r\n  }, [fetchCurrentProduct]);\r\n\r\n  const product = useSelector(getCurrentProduct);\r\n\r\n  return <section>{Object.keys(product).length && <ProductPageCard product={product} />}</section>;\r\n}\r\n"],"sourceRoot":""}